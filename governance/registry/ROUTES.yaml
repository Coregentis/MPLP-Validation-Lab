# Route Registry - v0.7.2
#
# SSOT for all Validation Lab UI routes.
# Defines: route path, introduction version, surface type, priority, family grouping.
#
# Governance: REPO_SHAPE.md / VLAB-DGB-01

version: "0.7.2"
schema_version: "1.0.0"
generated_at: "2026-01-23"
description: |
  Complete route registry for Validation Lab.
  All UI routes must be registered here with their truth sources and validation strategy.

# =============================================================================
# Route Definitions (18 routes)
# =============================================================================

routes:
  # ---------------------------------------------------------------------------
  # Home & Static Pages (v0.1)
  # ---------------------------------------------------------------------------
  - route: "/"
    introduced_in: "v0.1"
    surface_type: "home"
    priority: "P0"
    ptm_validation: "static"
    gates:
      - "gate:projection-manifest"
      - "gate:projection-sanity"
    description: "Validation Lab home page"

  - route: "/about"
    introduced_in: "v0.1"
    surface_type: "static"
    priority: "P2"
    ptm_validation: "static"
    description: "About Validation Lab"

  - route: "/statement"
    introduced_in: "v0.1"
    surface_type: "static"
    priority: "P2"
    ptm_validation: "static"
    description: "Non-endorsement statement"

  # ---------------------------------------------------------------------------
  # Runs (v0.2)
  # ---------------------------------------------------------------------------
  - route: "/runs"
    introduced_in: "v0.2"
    surface_type: "runs"
    priority: "P0"
    ptm_validation: "static"
    gates:
      - "gate:terminology"
      - "gate:curated-runs"
      - "gate:ssot-consistency"
      - "gate:09"
    description: "Curated runs index"

  - route: "/runs/[run_id]"
    introduced_in: "v0.2"
    surface_type: "runs"
    priority: "P0"
    route_family: true
    family_pattern: "/runs/*"
    ptm_validation: "sampled"
    rendered_samples:
      selector: "runsets.curated"
      count: 3
      samples:
        - "arb-d1-budget-pass-fixture-v0.3"
        - "arb-d1-budget-fail-outcome-invalid-v0.4"
        - "v05-d1-langgraph-pass-budget-allow"
    description: "Run detail page"
    gates:
      - "gate:coverage-claim"
      - "gate:terminology"
      - "gate:10"
      - "gate:reason-codes"
      - "gate:proof-signature"
      - "gate:07"
      - "gate:06"

  - route: "/runs/[run_id]/replay"
    introduced_in: "v0.3"
    surface_type: "runs"
    priority: "P1"
    route_family: true
    family_pattern: "/runs/*/replay"
    ptm_validation: "sampled"
    rendered_samples:
      selector: "runsets.curated"
      count: 2
      samples:
        - "arb-d1-budget-pass-fixture-v0.3"
        - "arb-d1-budget-fail-fixture-v0.3"
    description: "Run replay page with timeline"

  - route: "/runs/[run_id]/evidence"
    introduced_in: "v0.3"
    surface_type: "runs"
    priority: "P1"
    route_family: true
    family_pattern: "/runs/*/evidence"
    ptm_validation: "sampled"
    rendered_samples:
      selector: "runsets.curated"
      count: 2
      samples:
        - "arb-d1-budget-pass-fixture-v0.3"
        - "arb-d1-budget-fail-outcome-invalid-v0.4"
    description: "Run evidence detail page"

  # ---------------------------------------------------------------------------
  # Guarantees (v0.2)
  # ---------------------------------------------------------------------------
  - route: "/guarantees"
    introduced_in: "v0.2"
    surface_type: "guarantees"
    priority: "P1"
    ptm_validation: "static"
    description: "Lifecycle Guarantees (LG-01~05) overview"

  # ---------------------------------------------------------------------------
  # Rulesets (v0.3)
  # ---------------------------------------------------------------------------
  - route: "/rulesets"
    introduced_in: "v0.3"
    surface_type: "rulesets"
    priority: "P1"
    ptm_validation: "static"
    gates:
      - "gate:registry"
    description: "Rulesets index"

  - route: "/rulesets/[version]"
    introduced_in: "v0.3"
    surface_type: "rulesets"
    priority: "P1"
    route_family: true
    family_pattern: "/rulesets/*"
    ptm_validation: "sampled"
    rendered_samples:
      selector: "rulesets_required"
      count: 3
      samples:
        - "ruleset-1.0"
        - "ruleset-1.1"
        - "ruleset-1.2"
    description: "Ruleset detail page"

  # ---------------------------------------------------------------------------
  # Adjudication (v0.3)
  # ---------------------------------------------------------------------------
  - route: "/adjudication"
    introduced_in: "v0.3"
    surface_type: "adjudication"
    priority: "P2"
    ptm_validation: "static"
    description: "Adjudication entry page"

  - route: "/adjudication/[run_id]"
    introduced_in: "v0.3"
    surface_type: "adjudication"
    priority: "P2"
    route_family: true
    family_pattern: "/adjudication/*"
    ptm_validation: "sampled"
    rendered_samples:
      selector: "runsets.curated"
      count: 2
      samples:
        - "arb-d1-budget-pass-fixture-v0.3"
        - "arb-d1-budget-fail-fixture-v0.3"
    description: "Adjudication detail page"

  # ---------------------------------------------------------------------------
  # Policies (v0.3)
  # ---------------------------------------------------------------------------
  - route: "/policies/contract"
    introduced_in: "v0.3"
    surface_type: "policies"
    priority: "P2"
    ptm_validation: "static"
    description: "Evidence pack contract policy"

  - route: "/policies/strength"
    introduced_in: "v0.3"
    surface_type: "policies"
    priority: "P2"
    ptm_validation: "static"
    description: "Evidence strength policy"

  # ---------------------------------------------------------------------------
  # Builder & Coverage (v0.4)
  # ---------------------------------------------------------------------------
  - route: "/builder"
    introduced_in: "v0.4"
    surface_type: "tools"
    priority: "P3"
    ptm_validation: "static"
    description: "Evidence pack builder tool"

  - route: "/coverage"
    introduced_in: "v0.4"
    surface_type: "tools"
    priority: "P2"
    ptm_validation: "static"
    gates:
      - "gate:test-vectors-coverage"
      - "gate:coverage-claim"
    description: "Test coverage overview"

  # ---------------------------------------------------------------------------
  # Examples - Cross-Substrate Producers (v0.5)
  # ---------------------------------------------------------------------------
  - route: "/examples/evidence-producers/[substrate]"
    introduced_in: "v0.5"
    surface_type: "examples"
    priority: "P1"
    route_family: true
    family_pattern: "/examples/evidence-producers/*"
    ptm_validation: "sampled"
    rendered_samples:
      selector: "producers"
      count: 3
      samples:
        - "langgraph"
        - "autogen"
        - "sk"
    description: "Cross-substrate evidence producer examples"

  # ---------------------------------------------------------------------------
  # P1 Capability Routes (v0.7.2-v0.8)
  # ---------------------------------------------------------------------------
  - route: "/governance/projection-seal"
    introduced_in: "v0.7.2"
    surface_type: "governance"
    priority: "P2"
    ptm_validation: "static"
    description: "Projection stability seal documents"

  - route: "/adjudication/dispute-benchmark-fail-01"
    introduced_in: "v0.7"
    surface_type: "adjudication"
    priority: "P1"
    ptm_validation: "data"
    gates:
      - "gate:projection-manifest"
    description: "MUST-2 dispute benchmark (FAIL case)"

  - route: "/adjudication/proof-sets"
    introduced_in: "v0.8"
    surface_type: "adjudication"
    priority: "P1"
    ptm_validation: "data"
    description: "MUST-1 same-ruler proof sets"

  - route: "/rulesets/diff"
    introduced_in: "v0.8"
    surface_type: "policy"
    priority: "P1"
    ptm_validation: "data"
    description: "MUST-3 ruleset diff reports"

  - route: "/governance/development-baseline"
    introduced_in: "v0.7"
    surface_type: "governance"
    priority: "P3"
    ptm_validation: "static"
    description: "Development governance baseline"

  - route: "/governance/registry"
    introduced_in: "v0.7"
    surface_type: "governance"
    priority: "P2"
    ptm_validation: "static"
    description: "Registry SSOT documentation"

  - route: "/governance/page-truth-map"
    introduced_in: "v0.6"
    surface_type: "governance"
    priority: "P2"
    ptm_validation: "static"
    description: "Page truth map governance"

# =============================================================================
# Summary
# =============================================================================

summary:
  total_routes: 25  # 18 base + 7 P1 planned
  by_version:
    v0.1: 3
    v0.2: 3
    v0.3: 7
    v0.4: 2
    v0.5: 1
    v0.6: 1
    v0.7: 2
    v0.7.2: 1
    v0.8: 5
  by_validation:
    static: 16  # +6
    sampled: 9  # +1
  by_priority:
    P0: 3
    P1: 10  # +3
    P2: 9  # +3
    P3: 3  # +1
